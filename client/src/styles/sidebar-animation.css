:root {
    /* Основные анимационные переменные */
    --sidebar-animation-duration: 300ms;
    --sidebar-animation-easing: cubic-bezier(0.33, 1, 0.68, 1);
    /* Плавное ускорение-замедление */

    /* Переменные для анимации контента */
    --content-stagger-delay: 30ms;
    --text-animation-duration: 200ms;
    --text-animation-delay: 100ms;
    --icon-animation-duration: 150ms;
}

/* Основная анимация панели */
[data-sidebar="sidebar"] {
    transition: width var(--sidebar-animation-duration) var(--sidebar-animation-easing),
        transform var(--sidebar-animation-duration) var(--sidebar-animation-easing);
    will-change: width, transform;
}

/* Улучшенная анимация для текстового контента */
[data-sidebar="menu-button"]>span,
[data-sidebar="menu-sub-button"]>span,
[data-sidebar="group-label"],
.sidebar-text-content {
    transition: opacity var(--text-animation-duration) ease,
        transform var(--text-animation-duration) ease,
        visibility 0s linear var(--text-animation-duration);
    will-change: opacity, transform, visibility;
}

/* Улучшенная анимация для иконок */
[data-sidebar="menu-button"]>svg,
[data-sidebar="menu-sub-button"]>svg {
    transition: opacity var(--icon-animation-duration) ease,
        transform var(--icon-animation-duration) ease;
    will-change: transform, opacity;
}

/* Состояние свернуто - скрываем текстовый контент */
[data-state="collapsed"] [data-sidebar="menu-button"]>span:not(:first-child),
[data-state="collapsed"] [data-sidebar="menu-sub-button"]>span,
[data-state="collapsed"] [data-sidebar="group-label"],
[data-state="collapsed"] .sidebar-text-content {
    opacity: 0;
    visibility: hidden;
    transform: translateX(-8px);
    transition: opacity var(--text-animation-duration) ease,
        transform var(--text-animation-duration) ease,
        visibility 0s linear var(--text-animation-duration);
}

/* Состояние развернуто - показываем текстовый контент */
[data-state="expanded"] [data-sidebar="menu-button"]>span:not(:first-child),
[data-state="expanded"] [data-sidebar="menu-sub-button"]>span,
[data-state="expanded"] [data-sidebar="group-label"],
[data-state="expanded"] .sidebar-text-content {
    opacity: 1;
    visibility: visible;
    transform: translateX(0);
    transition-delay: var(--text-animation-delay);
    /* Задержка для поочередного появления */
}

/* Анимация иконок при сворачивании/разворачивании */
[data-state="collapsed"] [data-sidebar="menu-button"]>svg,
[data-state="collapsed"] [data-sidebar="menu-sub-button"]>svg {
    transform: scale(1.2);
}

[data-state="expanded"] [data-sidebar="menu-button"]>svg,
[data-state="expanded"] [data-sidebar="menu-sub-button"]>svg {
    transform: scale(1);
    transition-delay: calc(var(--content-stagger-delay) * 0.5);
}

/* Анимация для grid элементов и названия команды */
[data-sidebar="menu-button"] .grid,
.team-name-container {
    transition: opacity var(--text-animation-duration) ease,
        transform var(--text-animation-duration) ease,
        visibility 0s linear var(--text-animation-duration);
}

[data-state="collapsed"] [data-sidebar="menu-button"] .grid,
[data-state="collapsed"] .team-name-container {
    opacity: 0;
    visibility: hidden;
    transform: translateX(-8px);
}

[data-state="expanded"] [data-sidebar="menu-button"] .grid,
[data-state="expanded"] .team-name-container {
    opacity: 1;
    visibility: visible;
    transform: translateX(0);
    transition-delay: calc(var(--text-animation-delay) + var(--content-stagger-delay));
}

/* Стили для мобильной боковой панели */
@media (max-width: 768px) {
    [data-sidebar="sidebar"][data-mobile="true"] {
        transform: translateX(0) !important;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
    }

    /* Улучшенная анимация для мобильной версии (slide-in) */
    [data-side="right"][data-mobile="true"] {
        animation: slideInRight var(--sidebar-animation-duration) var(--sidebar-animation-easing) forwards;
    }

    [data-side="left"][data-mobile="true"] {
        animation: slideInLeft var(--sidebar-animation-duration) var(--sidebar-animation-easing) forwards;
    }
}

/* Эффект волны для поочередной анимации элементов меню */
[data-sidebar="menu-item"] {
    opacity: 0;
    transform: translateX(-10px);
    animation: fadeInRight 300ms forwards;
    animation-delay: calc(var(--content-stagger-delay) * var(--item-index, 0));
}

[data-state="expanded"] [data-sidebar="menu-item"] {
    --item-index: 0;
    /* Базовый индекс, переопределяется в JS или атрибутами */
}

/* Keyframes для анимаций */
@keyframes fadeInRight {
    0% {
        opacity: 0;
        transform: translateX(-10px);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
    }

    to {
        transform: translateX(0);
    }
}

@keyframes slideInLeft {
    from {
        transform: translateX(-100%);
    }

    to {
        transform: translateX(0);
    }
}

/* Улучшенная анимация наведения на элементы меню */
[data-sidebar="menu-button"],
[data-sidebar="menu-sub-button"] {
    transition: background-color 150ms ease,
        color 150ms ease,
        transform 150ms ease;
}

[data-sidebar="menu-button"]:hover,
[data-sidebar="menu-sub-button"]:hover {
    transform: translateX(2px);
}

/* Анимация для активного состояния */
[data-sidebar="menu-button"][data-active="true"],
[data-sidebar="menu-sub-button"][data-active="true"] {
    transform: translateX(0);
    transition: background-color 200ms ease,
        color 200ms ease,
        transform 200ms ease;
}

/* Анимация переключателя сайдбара */
[data-sidebar="trigger"] {
    transition: transform var(--sidebar-animation-duration) var(--sidebar-animation-easing),
        right var(--sidebar-animation-duration) var(--sidebar-animation-easing),
        opacity 200ms ease;
}

[data-sidebar="trigger"]:hover {
    transform: scale(1.1);
}

[data-sidebar="trigger"]:active {
    transform: scale(0.95);
    opacity: 0.8;
}